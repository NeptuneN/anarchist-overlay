<style>
  @keyframes typing {
    from {
      width: 0
    }
  }

  @keyframes blink {
    50% {
      border-color: white
    }
  }
</style>

{{#if blackBars}}
  <div class="bar top"></div>
  <div class="bar bottom"></div>
{{/if}}

<div style="margin-left: {{offsetX}}; margin-top: {{offsetY}}; display: flex; flex-direction: column;">
  {{#each lines}}
    <div style="
      width: 100%;
      {{#if glitchEffect}}, glitch {{glitchEffect.time}}s infinite{{/if}};
      white-space: nowrap;
      {{!-- overflow: hidden; --}}
      border-right: 3px solid; {{!- this is important --}}
      {{!-- font-family: monospace; {{!- this is not --}} --}}
      text-shadow: 3px 3px 2px black;
      font-size: {{fontSize}};
      border-color: transparent;
      color: white;
      line-height: 1;
      {{#if neonEffect}}

      {{/if}}
      {{#if glitchEffect}}
        --glitchTime: {{glitchEffect.time}}s;
      {{/if}}
      "
      {{#if neonEffect}}
          class="neon"
      {{/if}}
      {{#if glitchEffect}}
         class="glitch"
      {{/if}}
    >
      {{#if neonEffect}}
        <div style="width: fit-content;">
          <span aria-hidden="true" style="
          display: block;
          width: 100%;
          overflow: hidden;
          animation: typing {{typingTime}}s steps({{textLength}}) {{startDelay}}s normal backwards, blink .5s step-end {{startDelay}}s {{cursorDelay}} alternate;
          border-right: 3px solid;
          border-color: transparent;
          ">{{text}}</span>
        </div>
      {{/if}}
      {{#if glitchEffect}}
        <span aria-hidden="true">{{text}}</span>
      {{/if}}
      {{#if noEffect}}
        {{text}}
      {{/if}}
      {{#if glitchEffect}}
        <span aria-hidden="true">{{text}}</span>
      {{/if}}
    </div>
  {{/each}}
</div>